version = "3.9.8"
maxColumn = 80

# Import settings - ENABLED IMPORT SORTING AND GROUPING
rewrite.imports.sort = ascii
rewrite.imports.expand = false
rewrite.imports.contiguousGroups = only
rewrite.imports.groups = [
  ["com\\.microstrategy\\..*"],
  ["org\\.springframework\\..*"],
  ["scala\\..*"],
  ["java\\..*"],
  ["jakarta\\..*"],
  ["org\\..*"]
]

# Docstrings
docstrings.oneline = keep
docstrings.removeEmpty = true
docstrings.wrap = unfold
docstrings.wrapMaxColumn = 80
docstrings.forceBlankLineBefore = true
docstrings.blankFirstLine = null
docstrings.style = SpaceAsterisk

# Comments
comments.wrap = trailing
comments.wrapSingleLineMlcAsSlc = false
comments.wrapStandaloneSlcAsSlc = false

# Binpacking
binPack.callSite = Never
binPack.defnSite = Never
binPack.bracketCallSite = null
binPack.bracketDefnSite = null
binPack.indentCallSiteOnce = false
binPack.indentCallSiteSingleArg = true
binPack.parentConstructors = source
binPack.literalArgumentLists = true
binPack.literalsIncludeSimpleExpr = false
binPack.literalsSingleLine = false
binPack.literalsMinArgCount = 5
binPack.literalsInclude = [
  ".*"
]
binPack.literalsExclude = [
  String
  "Term.Name"
]
binPack.importSelectors = unfold

# Indentation
indent.main = 2
indent.significant = null
indent.callSite = 2
indent.ctrlSite = null
indent.binPackCallSite = null
indent.defnSite = 4
indent.binPackDefnSite = null
indent.caseSite = 4
indent.matchSite = null
indent.ctorSite = null
indent.extraBeforeOpenParenDefnSite = 0
indent.relativeToLhsLastLine = []
indent.fewerBraces = always
indent.afterInfixSite = null
indent.extendSite = 4
indent.withSiteRelativeToExtends = 0
indent.commaSiteRelativeToExtends = 2
indent.yieldKeyword = true
indent.infix.exemptScope = oldTopLevel
indent.infix.includeRegex = ".*"
indent.infix.excludeRegex = "^(&&|\\|\\|)$"

# Alignment
align.allowOverflow = false
align.delayUntilSpace = true
align.multiline = false
align.stripMargin = true
align.closeParenSite = false
align.openBracketCallSite = null
align.openParenCallSite = false
align.openParenCtrlSite = false
align.openBracketDefnSite = null
align.openParenDefnSite = false
align.openParenTupleSite = null
align.beforeOpenParenDefnSite = false
align.beforeOpenParenCallSite = false
align.inInterpolation = false
align.tokens = [
  {
    code = "=>"
    owners = [
      {
        regex = Case
        parents = []
      }
    ]
  }
]
align.arrowEnumeratorGenerator = false
align.treeCategory."Defn.Trait" = "class/object/trait/enum"
align.treeCategory."Defn.Object" = "class/object/trait/enum"
align.treeCategory."Defn.Val" = "given/val/var/def"
align.treeCategory."Defn.Enum" = "class/object/trait/enum"
align.treeCategory."Defn.Macro" = "given/val/var/def"
align.treeCategory."Decl.Def" = "given/val/var/def"
align.treeCategory."Defn.Def" = "given/val/var/def"
align.treeCategory."Defn.GivenAlias" = "given/val/var/def"
align.treeCategory."Defn.Var" = "given/val/var/def"
align.treeCategory."Enumerator.Generator" = for
align.treeCategory."Enumerator.Val" = for
align.treeCategory."Defn.Class" = "class/object/trait/enum"

# Spaces
spaces.beforeContextBoundColon = Never
spaces.withinContextBoundBraces = Never
spaces.beforeApplyArgInParens = Never
spaces.beforeInfixArgInParens = Always
spaces.afterTripleEquals = false
spaces.inImportCurlyBraces = false
spaces.inInterpolatedStringCurlyBraces = false
spaces.inParentheses = false
spaces.neverAroundInfixTypes = []
spaces.aroundSymbolicInfixOperators = null
spaces.afterKeywordBeforeParen = true
spaces.inByNameTypes = true
spaces.afterSymbolicDefs = false
spaces.afterColonInMatchPattern = Always

# Literals
literals.long = Upper
literals.float = Lower
literals.double = Lower
literals.hexDigits = Lower
literals.hexPrefix = Lower
literals.binPrefix = Lower
literals.scientific = Lower

# Line endings
lineEndings = null

# Rewrite rules
rewrite.rules = [
  SortModifiers,
  SortImports,
  PreferCurlyFors,
  RedundantBraces,
  RedundantParens,
  ExpandImportSelectors,
  AvoidInfix
]
rewrite.scala3.convertToNewSyntax = true
rewrite.scala3.newSyntax.control = true
rewrite.scala3.newSyntax.deprecated = true
rewrite.scala3.removeOptionalBraces.enabled = true
rewrite.scala3.removeOptionalBraces.fewerBracesMinSpan = 2
rewrite.scala3.removeOptionalBraces.fewerBracesMaxSpan = 0
rewrite.scala3.removeOptionalBraces.fewerBracesParensToo = true
rewrite.scala3.removeOptionalBraces.oldSyntaxToo = true
rewrite.scala3.countEndMarkerLines = all
rewrite.scala3.removeEndMarkerMaxLines = 3
rewrite.scala3.insertEndMarkerMinLines = 5
rewrite.insertBraces.minLines = 0
rewrite.insertBraces.allBlocks = false
rewrite.redundantBraces.defnBodies = all
rewrite.redundantBraces.includeUnitMethods = true
rewrite.redundantBraces.maxBreaks = 5
rewrite.redundantBraces.stringInterpolation = false
rewrite.redundantBraces.oneStatApply.parensMaxSpan = 0
rewrite.redundantBraces.oneStatApply.bracesMinSpan = -1
rewrite.redundantBraces.generalExpressions = true
rewrite.redundantParens.infixSide = null
rewrite.sortModifiers.order = [
  override
  private
  protected
  implicit
  final
  sealed
  abstract
  erased
  lazy
  open
  transparent
  inline
  infix
  opaque
]
rewrite.preferCurlyFors.removeTrailingSemicolonsOnly = false
rewrite.trailingCommas.allowFolding = true
rewrite.trailingCommas.style = multiple
rewrite.avoidInfix.includeFilters = [
  "[\\\\w\\\\d_]+"
]
rewrite.avoidInfix.excludeFilters = [
  until
  to
  by
  eq
  ne
]
rewrite.avoidInfix.excludeScalaTest = null
rewrite.avoidInfix.excludePlaceholderArg = true
rewrite.avoidInfix.excludePostfix = false
rewrite.avoidInfix.excludeMatch = true

# Newlines
newlines.source = keep
newlines.avoidInResultType = false
newlines.beforeTypeBounds = unfold
newlines.neverBeforeJsNative = false
newlines.sometimesBeforeColonInMethodReturnType = true
newlines.beforeOpenParenDefnSite = null
newlines.beforeOpenParenCallSite = null
newlines.penalizeSingleSelectMultiArgList = true
newlines.beforeCurlyLambdaParams = never
newlines.topLevelStatementBlankLines = []
newlines.topLevelStatementsMinBreaks = 1
newlines.topLevelStatements = []
newlines.beforeTemplateBodyIfBreakInParentCtors = false
newlines.topLevelBodyIfMinStatements = []
newlines.topLevelBodyMinStatements = 2
newlines.afterCurlyLambdaParams = never
newlines.implicitParamListModifierForce = []
newlines.implicitParamListModifierPrefer = null
newlines.alwaysBeforeElseAfterCurlyIf = false
newlines.forceBeforeAssign = never
newlines.forceBeforeMultilineAssign = null
newlines.beforeMultiline = null
newlines.beforeMultilineDef = null
newlines.selectChains.style = null
newlines.selectChains.enclose = null
newlines.selectChains.classicKeepFirst = true
newlines.selectChains.classicKeepAfterFirstBreak = false
newlines.selectChains.classicCanStartWithBraceApply = true
newlines.selectChains.classicCanStartWithoutApply = false
newlines.infix.termSite.style = keep
newlines.infix.termSite.breakOnNested = false
newlines.infix.termSite.maxCountPerFile = 500
newlines.infix.termSite.maxCountPerExprForSome = 10
newlines.infix.typeSite = null
newlines.infix.patSite = null
newlines.avoidForSimpleOverflow = []
newlines.inInterpolation = allow
newlines.ignoreInSyntax = true
newlines.avoidAfterYield = true
newlines.configStyle.callSite = null
newlines.configStyle.defnSite = null
newlines.configStyle.bracketCallSite = null
newlines.configStyle.bracketDefnSite = null
newlines.configStyle.fallBack.prefer = true
newlines.configStyle.fallBack.forceIfOptimized = null
newlines.configStyle.beforeComma = false
newlines.annotation = true
newlines.selfAnnotation = true

# Runner settings
runner.debug = false
runner.completeCallback = "<FormatEvent => Unit>"
runner.eventCallback = "<FormatEvent => Unit>"
runner.parser = Source
runner.optimizer.dequeueOnNewStatements = true
runner.optimizer.escapeInPathologicalCases = true
runner.optimizer.maxVisitsPerToken = 10000
runner.optimizer.maxDepth = 100
runner.optimizer.acceptOptimalAtHints = true
runner.optimizer.disableOptimizationsInsideSensitiveAreas = true
runner.optimizer.pruneSlowStates = Yes
runner.optimizer.recurseOnBlocks = true
runner.optimizer.callSite.minSpan = 150
runner.optimizer.callSite.minCount = 2
runner.optimizer.defnSite.minSpan = -1
runner.optimizer.defnSite.minCount = 0
runner.maxStateVisits = null
runner.dialect = scala3
runner.ignoreWarnings = false
runner.fatalWarnings = false

# Other settings
assumeStandardLibraryStripMargin = false
danglingParentheses.callSite = true
danglingParentheses.defnSite = true
danglingParentheses.ctrlSite = true
danglingParentheses.tupleSite = null
danglingParentheses.bracketCallSite = null
danglingParentheses.bracketDefnSite = null
danglingParentheses.exclude = null
verticalMultiline.atDefnSite = false
verticalMultiline.arityThreshold = 100
verticalMultiline.newlineAfterOpenParen = false
onTestFailure = ""
encoding = "UTF-8"
project.git = false
project.layout = null
project.includePaths = [
  "glob:**.scala"
  "glob:**.sbt"
  "glob:**.sc"
  "glob:**.mill"
]
project.excludePaths = []
project.includeFilters = []
project.excludeFilters = []
xmlLiterals.assumeFormatted = false
formatOn = [
  "@formatter:on"
  "format: on"
]
formatOff = [
  "@formatter:off"
  "format: off"
]